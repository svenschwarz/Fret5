<div id="FretBoard">
    <div class="key-line">
        <label>Key:&nbsp;</label>
        <span class="button" data-bind="click: previousKey">&lt;</span>
        <span data-bind="text: key().name" style="display: inline-block; width: 34px; text-align: center;" />
        <span class="button" data-bind="click: nextKey">&gt;</span>
        &nbsp;
        <span class="button" data-bind="text: '(' + keyTypeName() + ')', click: toggleKeyType" />
    </div>
    <br/>

    <div data-bind="template: { name: 'T_FretTable', data: table }" />
    <br/>

    <!-- ko if: markedNotesArray()[0].length > 0 -->
    <div class="marked1-in-line">
        <label>Yellow:</label>
        <span data-bind="foreach: markedNotesArray()[0]">
            <span class="note-in-line" data-bind="text: $data.name" />
        </span>
    </div>
    <!-- /ko -->
    <br/>
    <hr style="width: 100%;" />
    <br/>
</div>



<script type="text/html" id="T_FretTable">
    <div class="g-table">
        <div class="g-tr" data-bind="template: { name: 'T_FretTableHeaderCell', foreach: $data[0] }" />
        <div class="g-tr" data-bind="template: { name: 'T_FretTableCell', foreach: $data[0] }" />
        <div class="g-tr" data-bind="template: { name: 'T_FretTableCell', foreach: $data[1] }" />
        <div class="g-tr" data-bind="template: { name: 'T_FretTableCell', foreach: $data[2] }" />
        <div class="g-tr" data-bind="template: { name: 'T_FretTableCell', foreach: $data[3] }" />
        <div class="g-tr" data-bind="template: { name: 'T_FretTableCell', foreach: $data[4] }" />
        <div class="g-tr" data-bind="template: { name: 'T_FretTableCell', foreach: $data[5] }" />
    </div>
</script>


<script type="text/html" id="T_FretTableHeaderCell">
    <!-- ko if: $data.fret == 0 -->
    <div class="button" data-bind="click: $root.removeThisFretBoard">
        x
    </div>
    <!-- /ko -->
    <!-- ko ifnot: $data.fret == 0 -->
    <div class="g-th">
        <div class="fret-in-table" data-bind="text: $data.fret" />
    </div>
    <!-- /ko -->
</script>


<script type="text/html" id="T_FretTableCell">
    <div class="g-td" data-bind="click: $root.clickOnCell.bind($root, $data)">
        <!-- ko if: $root.key().contains($data.note) -->
        <div class="note-in-table" data-bind="
            text: $data.name,
            css: { highlighted: false && $data.isHighlighted }">
        </div>
        <!-- /ko -->

        <!-- ko if: $data.fret > 0 -->
        <div class="string-line"></div>
        <!-- /ko -->

        <!-- ko if: ($data.fret == 3 && $data.string == 2) || ($data.fret == 5 && $data.string == 2) || ($data.fret == 7 && $data.string == 2) || ($data.fret == 9 && $data.string == 2) || ($data.fret == 12 && ($data.string == 0 || $data.string == 4))  ||  ($data.fret == 15 && $data.string == 2) || ($data.fret == 17 && $data.string == 2) || ($data.fret == 19 && $data.string == 2) || ($data.fret == 21 && $data.string == 2) -->
        <div class="neck-dot" />
        <!-- /ko -->

        <!-- ko if: $data.ismarked1 || $data.ismarked2 || $data.ismarked3 -->
        <div class="markerarea-in-table">
            <span class="marker1-in-table" data-bind="visible: $data.ismarked1">&nbsp;&nbsp;</span>
            <span class="marker2-in-table" data-bind="visible: $data.ismarked2">&nbsp;&nbsp;</span>
            <span class="marker3-in-table" data-bind="visible: $data.ismarked3">&nbsp;&nbsp;</span>
        </div>
        <!-- /ko -->
    </div>
</script>

